version: 1
applications:
    - appRoot: frontend/src
      frontend:
          phases:
              preBuild:
                  commands:
                      - npm install -g npm@latest # Update npm to the latest version
                      - npm ci --legacy-peer-deps # Install dependencies with legacy peer deps flag
              build:
                  commands: 
                      - npm run build
          artifacts:
              baseDirectory: frontend/build
              files:
                  - '**/*'
          cache:
              paths:
                  - node_modules/**/*
